# Лабораторна робота №2

## Тема

Побудова ERD (Entity-Relationship Diagram) на основі OLTP-бази даних (приклад AdventureWorks).

---

## Мета роботи

* Ознайомитися зі структурою готової OLTP-бази даних.
* Навчитися аналізувати таблиці, первинні та зовнішні ключі.
* Побудувати ERD-діаграму для обраної предметної області.

---

## Теоретичні відомості

**OLTP (Online Transaction Processing)** — тип баз даних, оптимізований для великої кількості коротких транзакцій (INSERT, UPDATE, DELETE).

**ERD (Entity-Relationship Diagram)** — діаграма, яка відображає:

* сутності (таблиці),
* атрибути (поля),
* первинні ключі (PK),
* зовнішні ключі (FK),
* типи зв’язків між таблицями.

---

## Вихідні дані

* SQL Server 2022 / 2025
* SQL Server Management Studio (SSMS)
* Резервна копія бази даних: `AdventureWorks2025.bak`

---

## Хід роботи

### 1. Завантаження зразка бази даних

З офіційної документації Microsoft було завантажено OLTP-версію бази даних AdventureWorks, що відповідає версії SQL Server.

Посилання:
[https://learn.microsoft.com/en-us/sql/samples/adventureworks-install-configure](https://learn.microsoft.com/en-us/sql/samples/adventureworks-install-configure)

<img width="1796" height="935" alt="ee8ff8aa-962b-447e-a16e-9cd3c94b2124" src="https://github.com/user-attachments/assets/86bd0730-d848-4872-88a2-356ea14a861b" />


---

### 2. Відновлення бази даних (Restore)

1. Файл `AdventureWorks2025.bak` було розміщено у каталозі:

```
...\MSSQL\Backup
```
<img width="1324" height="849" alt="c20be382-fa8e-4b7f-86bf-fc05396fa844" src="https://github.com/user-attachments/assets/f4f1e846-ccf0-4ed0-80b1-3488f4f9e8aa" />

2. У SSMS виконано:

* `Databases` → `Restore Database...`
* Джерело: **Device**
* Обрано файл резервної копії
* Вказано ім’я бази: `AdventureWorks2025`

<img width="549" height="329" alt="54794fec-61d1-4426-a581-e73525197a36" src="https://github.com/user-attachments/assets/f837983d-1fbc-4afe-b89e-d33287145c65" />
<img width="872" height="408" alt="01955f66-4bd5-475c-be1a-2708f6bed36d" src="https://github.com/user-attachments/assets/578f41d9-f36e-4a9e-85f6-71f812f86be0" />
<img width="1064" height="516" alt="5f410327-b205-4750-a682-5425bfb34440" src="https://github.com/user-attachments/assets/d17f5575-0b4a-4e0e-bb0a-29e606fd86a7" />
<img width="485" height="366" alt="12f5878f-61a5-4034-bd99-5500df1d0ed7" src="https://github.com/user-attachments/assets/41fd87a8-4e1f-4711-b7f7-d0cdfabc26fb" />
<img width="863" height="725" alt="4a42d780-ff5f-4a3c-8e68-8f13ab0cd4c0" src="https://github.com/user-attachments/assets/755d40b3-4a1b-4a4d-9cc3-1af2d0e729ef" />

Після успішного відновлення база даних з’явилася у списку Databases.
<img width="480" height="524" alt="3f85bebd-e356-4c80-ad0f-8ddcc59e8df2" src="https://github.com/user-attachments/assets/e07226a0-eb7c-4f2f-9121-34dc0b691a2d" />

---

### 3. Аналіз структури бази даних

Для аналізу структури було використано Object Explorer у SSMS:

* переглянуто список схем (`Person`, `Production`, `Sales`),
* досліджено таблиці,
* визначено первинні та зовнішні ключі через **Table Design** та **Keys / Relationships**.

<img width="1590" height="1296" alt="02c720df-b434-4ea7-b810-354c9b2931e8" src="https://github.com/user-attachments/assets/b36ad0af-a8b8-440d-b2c3-eac5cae1f371" />
<img width="1265" height="1100" alt="3f5b24af-e6da-44b1-a598-f1a53de3a982" src="https://github.com/user-attachments/assets/165f67c8-e0f1-4f2f-9504-a26cdb9ea4af" />

---

### 4. Вибір предметної області

Для побудови ERD обрано предметну область **Production (Каталог товарів)**.

Обрані таблиці:

* `Production.ProductCategory`
* `Production.ProductSubcategory`
* `Production.Product`

---

### 5. Визначення ключів

**Production.ProductCategory**

* PK: `ProductCategoryID`

**Production.ProductSubcategory**

* PK: `ProductSubcategoryID`
* FK: `ProductCategoryID` → `ProductCategory.ProductCategoryID`

**Production.Product**

* PK: `ProductID`
* FK: `ProductSubcategoryID` → `ProductSubcategory.ProductSubcategoryID`

---

### 6. Побудова ERD-діаграми

ERD-діаграму побудовано у зовнішньому інструменті (наприклад, draw.io) на основі проаналізованих таблиць.

Типи зв’язків:

* `ProductCategory` 1 → N `ProductSubcategory`
* `ProductSubcategory` 1 → N `Product`

На діаграмі відображено:

* назви таблиць,
* первинні ключі (PK),
* зовнішні ключі (FK),
* зв’язки між сутностями.

---

## Результат роботи

У результаті виконання лабораторної роботи було:

* відновлено OLTP-базу даних AdventureWorks,
* проаналізовано структуру таблиць,
* визначено ключі та зв’язки,
* побудовано ERD-діаграму для предметної області Production.

---

## Висновок

У ході лабораторної роботи було отримано практичні навички аналізу готової OLTP-бази даних та побудови ERD-діаграм. Побудована модель дозволяє наочно зрозуміти логічну структуру даних та взаємозв’язки між сутностями.

---

## Контрольні питання

1. Що таке OLTP-база даних?
2. Яке призначення ERD?
3. Чим відрізняється первинний ключ від зовнішнього?
4. Які типи зв’язків між таблицями існують?
5. Чому для ERD обирають окрему предметну область, а не всю базу даних?
